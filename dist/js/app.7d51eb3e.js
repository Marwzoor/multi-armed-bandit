(function(t){function n(n){for(var s,i,o=n[0],u=n[1],c=n[2],l=0,p=[];l<o.length;l++)i=o[l],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(s in u)Object.prototype.hasOwnProperty.call(u,s)&&(t[s]=u[s]);d&&d(n);while(p.length)p.shift()();return r.push.apply(r,c||[]),e()}function e(){for(var t,n=0;n<r.length;n++){for(var e=r[n],s=!0,o=1;o<e.length;o++){var u=e[o];0!==a[u]&&(s=!1)}s&&(r.splice(n--,1),t=i(i.s=e[0]))}return t}var s={},a={app:0},r=[];function i(n){if(s[n])return s[n].exports;var e=s[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=t,i.c=s,i.d=function(t,n,e){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,n){if(1&n&&(t=i(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var s in t)i.d(e,s,function(n){return t[n]}.bind(null,s));return e},i.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="/multi-armed-bandit/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=n,o=o.slice();for(var c=0;c<o.length;c++)n(o[c]);var d=u;r.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"034f":function(t,n,e){"use strict";e("85ec")},"56d7":function(t,n,e){"use strict";e.r(n);e("e260"),e("e6cf"),e("cca6"),e("a79d");var s=e("2b0e"),a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("h1",[t._v("Multi-armed bandit problem")]),e("div",{staticClass:"bandits"},t._l(t.bandits,(function(n,s){return e("div",{key:s,class:["bandit",{current:s===t.lastBandit}]},[e("div",{staticClass:"bandit-display"},[e("span",{directives:[{name:"show",rawName:"v-show",value:"won"===n.status,expression:"bandit.status === 'won'"}],staticClass:"bandit-display-text won"},[t._v("$$ WON $$")]),e("span",{directives:[{name:"show",rawName:"v-show",value:"lost"===n.status,expression:"bandit.status === 'lost'"}],staticClass:"bandit-display-text lost"},[t._v("LOST")])]),e("p",[t._v("Number of tries: "+t._s(n.count))]),e("p",[t._v("Winning chance: "+t._s(n.chance)+"%")]),e("div",{staticClass:"bandit-arm"})])})),0),e("div",{staticClass:"actions"},[e("p",[t._v("Rounds left: "+t._s(t.roundsLeft))]),e("p",[t._v("Wins: "+t._s(t.score))]),e("button",{on:{click:function(n){return n.preventDefault(),t.runRL(n)}}},[t._v("Run (Reinforcement Learning)")]),e("button",{on:{click:function(n){return n.preventDefault(),t.runRandom(n)}}},[t._v("Run (Random)")])])])},r=[],i=e("339d"),o=i.jStat,u={name:"App",components:{},data:function(){for(var t=[{chance:80,count:0,status:""},{chance:45,count:0,status:""},{chance:30,count:0,status:""},{chance:55,count:0,status:""}],n=[],e=[],s=0;s<t.length;++s)n.push(0),e.push(0);return{bandits:t,roundsLeft:0,score:0,thompsonSampling:{rewards0:n,rewards1:e},lastBandit:!1}},methods:{runRL:function(){this.roundsLeft=100,this.resetBandits(),this.score=0,this.stepRL()},runRandom:function(){this.roundsLeft=100,this.resetBandits(),this.score=0,this.stepRandom()},resetBandits:function(){for(var t=0;t<this.bandits.length;++t)this.bandits[t].count=0,this.bandits[t].status="";this.lastBandit=!1},stepRandom:function(){var t=Math.round(Math.random()*(this.bandits.length-1)),n=this.testBandit(t);n&&++this.score,this.lastBandit=t,--this.roundsLeft,this.roundsLeft>0&&setTimeout(this.stepRandom,100)},stepRL:function(){for(var t=0,n=0,e=0;e<this.bandits.length;++e){var s=o.beta.sample(this.thompsonSampling.rewards1[e]+1,this.thompsonSampling.rewards0[e]+1);s>n&&(n=s,t=e)}this.lastBandit=t;var a=this.testBandit(t);a?(this.thompsonSampling.rewards1[t]+=1,++this.score):this.thompsonSampling.rewards0[t]+=1,--this.roundsLeft,this.roundsLeft>0&&setTimeout(this.stepRL,100)},testBandit:function(t){var n=this.bandits[t],e=100*Math.random()<n.chance;return n.status=e?"won":"lost",++n.count,e}}},c=u,d=(e("034f"),e("2877")),l=Object(d["a"])(c,a,r,!1,null,null,null),p=l.exports;s["a"].config.productionTip=!1,new s["a"]({render:function(t){return t(p)}}).$mount("#app")},"85ec":function(t,n,e){}});
//# sourceMappingURL=app.7d51eb3e.js.map